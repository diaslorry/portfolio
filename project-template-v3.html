<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project - Patek Philippe</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        @font-face {
            font-family: 'Saans';
            src: url('fonts/Saans-TRIAL-Light.woff2') format('woff2');
            font-weight: 300;
            font-style: normal;
        }

        @font-face {
            font-family: 'Saans';
            src: url('fonts/Saans-TRIAL-Regular.woff2') format('woff2');
            font-weight: 400;
            font-style: normal;
        }

        @font-face {
            font-family: 'Saans';
            src: url('fonts/Saans-TRIAL-Medium.woff2') format('woff2');
            font-weight: 500;
            font-style: normal;
        }

        @font-face {
            font-family: 'Saans';
            src: url('fonts/Saans-TRIAL-SemiBold.woff2') format('woff2');
            font-weight: 600;
            font-style: normal;
        }

        @font-face {
            font-family: 'Saans';
            src: url('fonts/Saans-TRIAL-Bold.woff2') format('woff2');
            font-weight: 700;
            font-style: normal;
        }

        body {
            font-family: 'Saans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: #F5F6F5;
            color: #21222A;
            overflow-x: hidden;
        }

        /* ===== REVEAL TEXT ANIMATION ===== */
        .reveal-text .letter-wrap {
            display: inline-block;
            overflow: hidden;
            position: relative;
            vertical-align: top;
        }

        .reveal-text .letter {
            display: inline-block;
            animation: revealLetter 1.2s cubic-bezier(0.77, 0, 0.175, 1) forwards;
            transform: translateY(100%);
        }

        @keyframes revealLetter {
            from {
                transform: translateY(100%);
            }
            to {
                transform: translateY(0%);
            }
        }

        /* ===== REVEAL PARAGRAPH ANIMATION ===== */
        .reveal-paragraph {
            opacity: 0;
        }

        .reveal-paragraph.animate {
            opacity: 1;
        }

        .reveal-paragraph.animate .word {
            display: inline-block;
            animation: revealWordSubtle 0.6s ease-out forwards;
            opacity: 0;
        }

        @keyframes revealWordSubtle {
            from {
                opacity: 0;
                transform: translateY(8px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ===== FIXED HEADER ELEMENTS ===== */
        .video-box {
            position: fixed;
            top: 24px;
            left: 24px;
            width: 101px;
            height: 55px;
            background: #cc2a2a;
            z-index: 100;
            cursor: pointer;
            text-decoration: none;
            display: block;
        }

        .top-menu {
            position: fixed;
            top: 24px;
            right: 24px;
            display: flex;
            flex-direction: column;
            gap: 4px;
            align-items: flex-end;
            z-index: 100;
        }

        .top-menu a {
            font-size: 12px;
            letter-spacing: 0.48px;
            text-transform: uppercase;
            color: #166dee;
            text-decoration: none;
            position: relative;
            display: inline-block;
            overflow: hidden;
            vertical-align: top;
            font-weight: 400;
        }

        .top-menu a .rotate-text-inner {
            display: block;
            transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1);
        }

        .top-menu a:hover .rotate-text-inner {
            transform: translateY(-100%);
        }

        .top-menu a .rotate-text-inner > span {
            display: block;
            white-space: nowrap;
            padding-top: 0.2em;
            padding-bottom: 0.05em;
        }

        .top-menu a .rotate-text-inner > span:last-child {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
        }

        /* ===== MAIN CONTENT CONTAINER ===== */
        .container {
            width: 100%;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* ===== LAUNCH LINK SECTION ===== */
        .launch-section {
            padding-top: 127px;
            margin-bottom: 0;
        }

        .launch-link {
            display: flex;
            align-items: center;
            gap: 4px;
            margin-bottom: 28px;
        }

        .launch-link a {
            font-size: 12px;
            letter-spacing: 0.48px;
            text-transform: uppercase;
            color: #166dee;
            text-decoration: none;
            position: relative;
            display: inline-block;
            overflow: hidden;
            vertical-align: top;
            font-weight: 400;
        }

        .launch-link a .rotate-text-inner {
            display: block;
            transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1);
        }

        .launch-link a:hover .rotate-text-inner {
            transform: translateY(-100%);
        }

        .launch-link a .rotate-text-inner > span {
            display: block;
            white-space: nowrap;
            padding-top: 0.2em;
            padding-bottom: 0.05em;
        }

        .launch-link a .rotate-text-inner > span:last-child {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
        }

        .launch-link svg {
            width: 16px;
            height: 16px;
        }

        /* ===== INFO TABLE ===== */
        .info-table {
            position: relative;
        }

        .info-table::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: #E4E4E4;
            transform: scaleX(0);
            transform-origin: left;
            animation: drawLine 0.8s ease-out forwards;
        }

        .info-table::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: #E4E4E4;
            transform: scaleX(0);
            transform-origin: left;
            animation: drawLine 0.8s ease-out forwards;
            animation-delay: 0.4s;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            padding: 12px 0;
            position: relative;
            font-size: 12px;
            letter-spacing: 0.48px;
            text-transform: uppercase;
            font-weight: 400;
            color: #21222A;
            opacity: 0;
            animation: fadeIn 0.6s ease-out forwards;
        }

        .info-row::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: #E4E4E4;
            transform: scaleX(0);
            transform-origin: left;
            animation: drawLine 0.8s ease-out forwards;
        }

        .info-row:nth-child(1) {
            animation-delay: 0.1s;
        }

        .info-row:nth-child(1)::after {
            animation-delay: 0.1s;
        }

        .info-row:nth-child(2) {
            animation-delay: 0.2s;
        }

        .info-row:nth-child(2)::after {
            animation-delay: 0.2s;
        }

        .info-row:nth-child(3) {
            animation-delay: 0.3s;
        }

        .info-row:nth-child(3)::after {
            animation-delay: 0.3s;
        }

        .info-row:nth-child(4) {
            animation-delay: 0.4s;
        }

        .info-row:last-child::after {
            display: none;
        }

        @keyframes drawLine {
            from {
                transform: scaleX(0);
            }
            to {
                transform: scaleX(1);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(8px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero-text-reveal {
            opacity: 0;
            animation: fadeInUp 0.4s ease-out forwards;
        }

        /* ===== PAGE TITLE ===== */
        .page-title {
            position: absolute;
            bottom: 24px;
            left: 24px;
            right: 24px;
            margin: 0;
        }

        .page-title h1 {
            font-size: 9.72vw; /* 140px at 1440px viewport */
            line-height: 0.9;
            text-transform: uppercase;
            color: rgba(238, 238, 238, 0.93);
            mix-blend-mode: exclusion;
            font-weight: 400;
            margin: 0;
        }

        .page-title h2 {
            font-size: 9.72vw; /* 140px at 1440px viewport */
            line-height: 0.9;
            text-transform: uppercase;
            color: rgba(238, 238, 238, 0.93);
            mix-blend-mode: exclusion;
            font-weight: 400;
            text-align: right;
            margin: 0;
        }

        /* ===== FIRST VIEWPORT SECTION ===== */
        .first-viewport {
            position: relative;
            height: 100vh;
            width: 100%;
        }

        /* ===== INTRO TEXT SECTION ===== */
        .intro-text-section {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            column-gap: 16px;
            padding: 0 24px;
            margin-top: calc(16.67vh - 24px); /* 240px total spacing minus 24px bottom padding of first-viewport */
        }

        .intro-text-content {
            grid-column: 7 / 13; /* Takes 6 columns (7-13), leaving 0 columns margin from right */
            display: flex;
            flex-direction: column;
            gap: 12px;
            opacity: 0;
            animation: fadeInUp 0.8s ease-out forwards;
            animation-delay: 0.3s;
        }

        .intro-text-label {
            font-size: 12px;
            letter-spacing: 0.48px;
            text-transform: uppercase;
            color: #1B1B1B;
            font-weight: 400;
        }

        .intro-text-paragraph {
            font-size: 24px;
            line-height: 1.3;
            letter-spacing: 0.24px;
            color: #1B1B1B;
            font-weight: 300;
        }

        /* ===== IMAGE GALLERY ===== */
        .gallery {
            position: relative;
            margin-top: 16.67vh; /* 240px as viewport height */
        }

        .gallery-section {
            position: relative;
            margin-bottom: 0;
        }

        .gallery-image {
            width: 100%;
            overflow: hidden;
        }

        .gallery-image {
            margin-bottom: 0;
            overflow: hidden;
            position: relative;
        }

        .gallery-image img {
            width: 100%;
            height: auto;
            display: block;
            transform: scale(1.1);
            transition: transform 0.1s ease-out;
        }

        /* Section 1: Background image + Centered portrait overlay */
        .section-1 {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .section-1 .gallery-image-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .section-1 .gallery-image-background img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: none;
        }

        .section-1 .gallery-image-portrait {
            position: relative;
            width: 26.04%; /* 375px / 1440px */
            height: 551px;
            z-index: 2;
            overflow: hidden;
        }

        .section-1 .gallery-image-portrait img {
            position: absolute;
            width: 100%;
            height: 110%;
            left: 0;
            top: 0;
            object-fit: cover;
            object-position: 50% 50%;
            transform: none;
        }

        /* Section 2: Three portrait images */
        .section-2 {
            position: relative;
            margin-top: calc(16.67vh + 90px); /* 240px as vh + compensation for parallax starting position (middle box starts at -90px) */
            margin-bottom: 120px;
            height: 766px; /* 215px (offset) + 551px (image height) */
        }

        .section-2 .gallery-image {
            position: absolute;
            width: 375px;
            height: 551px;
            overflow: hidden;
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .section-2 .gallery-image.reveal {
            opacity: 1;
            transform: translateY(0);
        }

        .section-2 .gallery-image:first-child {
            left: 142px;
            top: 0;
        }

        .section-2 .gallery-image:nth-child(2) {
            left: 533px;
            top: 78px; /* 215px - 137px */
        }

        .section-2 .gallery-image:nth-child(3) {
            left: 925px;
            top: 0;
        }

        .section-2 .gallery-image img {
            width: 110%;
            height: 110%;
            object-fit: cover;
            object-position: 50% 50%;
            position: relative;
        }

        /* Section 3: Full width image */
        .section-3 {
            margin-top: 0;
            width: 100%;
        }

        .section-3 .gallery-image {
            width: 100%;
        }

        /* Section 4: Large left + Small right on same row */
        .section-4 {
            display: flex;
            align-items: flex-start;
            width: 100%;
            gap: 0;
            margin-top: 0;
        }

        .section-4 .gallery-image:first-child {
            width: 73.89%; /* 1064/1440 */
            flex-shrink: 0;
        }

        .section-4 .gallery-image:last-child {
            width: 26.11%; /* 376/1440 */
            flex-shrink: 0;
        }

        /* Section 5: Small left image - REMOVED, now part of section-4 */
        .section-5 {
            display: none;
        }

        /* ===== TWO-COLUMN SMALL TEXT SECTION ===== */
        .two-column-text-section {
            position: relative;
            padding: 0 24px;
            margin-top: 16.67vh; /* 240px as viewport height */
            margin-bottom: 120px;
        }

        .two-column-text-container {
            position: relative;
            width: 100%;
            max-width: 1392px;
            margin: 0 auto;
            height: 360px; /* Approximate height: 120px top spacing + 12px label + 12px gap + ~200px paragraph */
        }

        .two-column-text-block {
            position: absolute;
            width: 571px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .two-column-text-block:first-child {
            left: 118px; /* Adjusted to center: (1392 - 571*2 - 16) / 2 = 118px left margin */
            top: 120px;
        }

        .two-column-text-block:last-child {
            left: 705px; /* 118 + 571 + 16 = 705px */
            top: 120px;
        }

        .two-column-text-label {
            font-size: 12px;
            letter-spacing: 0.48px;
            text-transform: uppercase;
            color: rgba(238, 238, 238, 0.93);
            mix-blend-mode: exclusion;
            font-weight: 400;
        }

        .two-column-text-paragraph {
            font-size: 16px;
            line-height: 1.3;
            letter-spacing: 0.16px;
            color: #1B1B1B;
            font-weight: 300;
        }

        /* ===== SINGLE TEXT SECTION ===== */
        .single-text-section {
            padding: 0px 24px 0px 24px;
            margin-top: 16.67vh; /* 240px at 1440px height (240/1440*100) */
            margin-bottom: 16.67vh; /* 240px at 1440px height */
        }

        .single-text-block {
            width: 100%;
            max-width: 1392px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .single-text-label {
            font-size: 12px;
            letter-spacing: 0.48px;
            text-transform: uppercase;
            color: rgba(238, 238, 238, 0.93);
            mix-blend-mode: exclusion;
            font-weight: 400;
        }

        .single-text-paragraph {
            font-size: 48px;
            line-height: 1.3;
            letter-spacing: 0.48px;
            color: #1B1B1B;
            font-weight: 300;
            width: 1392px;
        }

        /* ===== DOUBLE HEIGHT SECTION ===== */
        .double-height-section {
            width: 100%;
            height: 200vh;
            position: relative;
            overflow: hidden;
            background: #F5F6F5;
        }

        .double-height-section .background-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .double-height-section .background-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: 50% 50%;
        }

        .double-height-section .centered-landscape {
            position: absolute;
            width: 1158px;
            height: 652px;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            overflow: hidden;
        }

        .double-height-section .centered-landscape img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: 50% 50%;
        }

        .double-height-section .centered-landscape::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.2);
            pointer-events: none;
        }

        /* ===== OTHER PROJECTS SECTION ===== */
        .whats-next {
            font-size: 12px;
            letter-spacing: 0.48px;
            text-transform: uppercase;
            color: #166dee;
            font-weight: 400;
            transition: opacity 0.3s ease;
            margin-bottom: 13.89vw; /* 200px at 1440px viewport (200/1440 = 13.89%) */
            grid-column: 1 / 13;
        }

        .carousel-hover-label {
            grid-column: 1 / 13;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 12px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            pointer-events: none;
            z-index: 50;
            margin-bottom: 24px;
            max-width: 571px; /* Same width as two-column-text-block */
            margin-left: auto;
            min-height: 100px; /* Reserve minimum space to prevent layout shift */
        }

        .carousel-hover-subtitle {
            display: flex;
            justify-content: flex-start;
            width: 100%;
            font-size: 12px;
            letter-spacing: 0.48px;
            text-transform: uppercase;
            color: #1B1B1B;
            font-weight: 400;
        }

        .carousel-hover-paragraph {
            font-size: 16px;
            line-height: 1.3;
            letter-spacing: 0.16px;
            color: #1B1B1B;
            font-weight: 300;
            text-align: left;
            width: 100%;
        }

        .carousel-hover-label.visible {
            opacity: 1;
            visibility: visible;
        }

        .projects-layout {
            position: relative;
            min-height: 480px;
            max-width: 850px;
            margin: 0 auto;
            overflow: visible;
        }

        .projects-list {
            position: relative;
            font-size: 60px;
            line-height: 1;
            text-transform: uppercase;
            color: #1b1b1b;
        }

        .projects-list a {
            display: block;
            text-decoration: none;
            color: inherit;
            position: absolute;
            white-space: nowrap;
            cursor: pointer;
            overflow: hidden;
            vertical-align: top;
        }

        .projects-list a .rotate-text-inner {
            display: block;
            transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1);
        }

        .projects-list a:hover .rotate-text-inner {
            transform: translateY(-100%);
        }

        .projects-list a .rotate-text-inner > span {
            display: block;
            white-space: nowrap;
            padding-top: 0.2em;
            padding-bottom: 0.05em;
        }

        .projects-list a .rotate-text-inner > span:last-child {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
        }

        .projects-list a:nth-child(1) {
            left: 117px;
            top: 0;
        }

        .projects-list a:nth-child(2) {
            left: 0;
            top: 60px;
        }

        .projects-list a:nth-child(3) {
            left: 50%;
            transform: translateX(-50%);
            top: 120px;
        }

        .projects-list a:nth-child(4) {
            left: 235px;
            top: 180px;
        }

        .projects-list a:nth-child(5) {
            left: 50%;
            transform: translateX(-50%);
            top: 240px;
        }

        .projects-list a:nth-child(6) {
            left: 81px;
            top: 300px;
        }

        .projects-list a:nth-child(7) {
            left: 50%;
            transform: translateX(-50%);
            top: 360px;
        }


        /* ===== FOOTER CONTACT SECTION ===== */
        .footer-contact {
            background: #ac3221;
            height: 752px;
            position: relative;
            margin-top: 8px;
        }

        .footer-contact-text {
            position: absolute;
            left: 24px;
            top: 24px;
            width: calc(100% - 48px);
            font-size: 120px;
            line-height: 1;
            text-transform: uppercase;
            color: #fffef3;
            font-weight: 400;
        }

        .footer-say {
            position: absolute;
            left: 0;
            top: 0;
        }

        .footer-hi {
            position: absolute;
            right: 0;
            top: 120px;
            text-align: right;
        }

        .footer-label {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            top: 92px;
            text-align: center;
            font-size: 12px;
            letter-spacing: 0.48px;
            text-transform: uppercase;
            color: #fffef3;
            font-weight: 400;
        }

        .footer-links {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            top: 156px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            align-items: center;
            font-size: 12px;
            letter-spacing: 0.48px;
            text-transform: uppercase;
            color: #fffef3;
            font-weight: 400;
        }

        .footer-links a {
            color: inherit;
            text-decoration: none;
            position: relative;
            display: inline-block;
            overflow: hidden;
            vertical-align: top;
        }

        .footer-links a .rotate-text-inner {
            display: block;
            transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1);
        }

        .footer-links a:hover .rotate-text-inner {
            transform: translateY(-100%);
        }

        .footer-links a .rotate-text-inner > span {
            display: block;
            white-space: nowrap;
            padding-top: 0.2em;
            padding-bottom: 0.05em;
        }

        .footer-links a .rotate-text-inner > span:last-child {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
        }

        .footer-image {
            position: absolute;
            left: 0;
            top: 298px;
            width: 100%;
            height: 454px;
            overflow: hidden;
        }

        .footer-image img {
            width: 100%;
            height: 317.18%;
            position: absolute;
            top: 0.11%;
            left: 0;
            object-fit: cover;
            mix-blend-mode: multiply;
        }

        /* ===== BOTTOM CAROUSEL ===== */
        .carousel-section {
            position: relative;
            margin-top: 80px;
            margin-bottom: 0;
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            column-gap: 16px;
            padding: 0 24px;
        }

        .carousel-wrapper {
            grid-column: 1 / 13;
            width: calc(100% + 48px); /* Account for carousel-section padding */
            margin-left: -24px;
            overflow: hidden;
            background: #F5F6F5;
            padding: 0;
            position: relative;
        }

        .carousel-container {
            display: flex;
            gap: 8px;
            position: relative;
            transition: transform 0.1s ease-out;
            will-change: transform;
        }

        .carousel-item {
            width: 27.78vw; /* 400px at 1440px viewport (400/1440*100) */
            height: 27.78vw;
            flex-shrink: 0;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .carousel-item-inner {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .carousel-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 1;
        }

        .carousel-item.playing video {
            opacity: 1;
        }

        .carousel-item:hover video {
            opacity: 1;
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 1024px) {
            .page-title h1,
            .page-title h2 {
                font-size: 9.38vw; /* 96px at 1024px viewport */
            }

            .projects-list a {
                font-size: 80px;
            }

            .section-2,
            .section-5 {
                margin-top: 150px;
            }

            .section-3 {
                margin-top: 200px;
            }

            .section-4 {
                margin-top: 400px;
            }

            .single-text-section {
                padding: 60px 24px 24px 24px;
            }

            .single-text-paragraph {
                font-size: 36px;
                width: 100%;
            }

            .double-height-section .centered-landscape {
                width: 80%;
                height: auto;
                aspect-ratio: 16/9;
            }
        }

        @media (max-width: 768px) {
            .video-box {
                width: 80px;
                height: 44px;
                top: 16px;
                left: 16px;
            }

            .top-menu {
                top: 16px;
                right: 16px;
            }

            .top-menu a {
                font-size: 10px;
            }

            .container {
                padding: 0 16px;
            }

            .launch-section {
                padding-top: 100px;
            }

            .page-title h1,
            .page-title h2 {
                font-size: 6.25vw; /* 48px at 768px viewport */
            }

            .gallery {
                margin-top: 150px;
            }

            .section-1,
            .section-4 {
                flex-direction: column;
            }

            .section-1 .gallery-image,
            .section-4 .gallery-image {
                width: 100% !important;
            }

            .section-1 .gallery-image:last-child,
            .section-4 .gallery-image:last-child {
                margin-top: 50px;
            }

            .section-3,
            .section-4 {
                margin-top: 100px;
            }

            .single-text-section {
                padding: 40px 16px 24px 16px;
            }

            .single-text-paragraph {
                font-size: 24px;
                width: 100%;
            }

            .carousel-hover-label {
                max-width: 100%;
            }

            .carousel-hover-paragraph {
                font-size: 18px;
            }

            .double-height-section {
                height: 150vh;
            }

            .double-height-section .centered-landscape {
                width: 90%;
                height: auto;
                aspect-ratio: 16/9;
            }

            .projects-list a {
                font-size: 32px;
                position: relative !important;
                left: 0 !important;
                top: auto !important;
                transform: none !important;
                margin-bottom: 8px;
            }

            .projects-layout {
                min-height: auto;
            }


            .footer-contact {
                height: auto;
                padding-bottom: 40px;
            }

            .footer-contact-text {
                font-size: 60px;
                position: relative;
                left: 16px;
                top: 16px;
                width: calc(100% - 32px);
            }

            .footer-say,
            .footer-hi {
                position: relative;
                left: 0;
                right: auto;
                top: 0;
                text-align: left;
                margin-bottom: 16px;
            }

            .footer-label {
                position: relative;
                top: 40px;
                margin-bottom: 16px;
            }

            .footer-links {
                position: relative;
                top: 40px;
                margin-bottom: 40px;
            }

            .footer-image {
                position: relative;
                top: auto;
                height: 300px;
            }

            .carousel-item {
                width: 180px;
                height: 180px;
            }
        }

        @media (max-width: 480px) {
            .page-title h1,
            .page-title h2 {
                font-size: 7.5vw; /* 36px at 480px viewport */
            }

            .projects-list a {
                font-size: 32px;
            }

            .info-row {
                font-size: 10px;
                flex-direction: column;
                align-items: flex-start;
                gap: 4px;
            }

            .carousel-item {
                width: 150px;
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Full Page Line Art Trail Canvas -->
    <canvas id="fullPageTrailCanvas" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999; display: none;"></canvas>

    <!-- Video Box - Link to Homepage -->
    <a href="index.html" class="video-box"></a>

    <!-- Top Menu -->
    <div class="top-menu">
        <a href="index.html#contact" class="hero-text-reveal" style="animation-delay: 0.6s;">
            <span class="rotate-text-inner">
                <span>diaslorry@gmail.com</span>
                <span>diaslorry@gmail.com</span>
            </span>
        </a>
        <a href="#" class="hero-text-reveal" style="animation-delay: 0.7s;">
            <span class="rotate-text-inner">
                <span>download cv</span>
                <span>download cv</span>
            </span>
        </a>
    </div>

    <!-- First Viewport with Launch Info and Title -->
    <div class="first-viewport">
        <!-- Launch Link & Info Table -->
        <div class="container">
            <div class="launch-section">
                <div class="launch-link hero-text-reveal" style="animation-delay: 0.8s;">
                    <a href="#">
                        <span class="rotate-text-inner">
                            <span>launch website</span>
                            <span>launch website</span>
                        </span>
                    </a>
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M4 12L12 4M12 4H4M12 4V12" stroke="#166dee" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>

                <div class="info-table">
                    <div class="info-row">
                        <span>scope</span>
                        <span>UX strategy, design system, full website redesign</span>
                    </div>
                    <div class="info-row">
                        <span>role</span>
                        <span>ux/ui design lead</span>
                    </div>
                    <div class="info-row">
                        <span>launch year</span>
                        <span>2025</span>
                    </div>
                    <div class="info-row">
                        <span>project duration</span>
                        <span>2 years</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Page Title -->
        <div class="page-title">
            <h1 class="reveal-text" id="titleLine1">patek philippe</h1>
            <h2 class="reveal-text" id="titleLine2">design system</h2>
        </div>
    </div>

    <!-- Intro Text -->
    <div class="intro-text-section">
        <div class="intro-text-content">
            <p class="intro-text-label">thoughts</p>
            <p class="intro-text-paragraph reveal-paragraph">Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin. Blandit at a condimentum cursus in amet rutrum aliquet. Ac nec id et a. Nunc phasellus at faucibus mi et aenean. Sit eget proin massa.</p>
        </div>
    </div>

    <!-- Image Gallery -->
    <div class="gallery">
        <!-- Section 1: Background image + Centered portrait -->
        <div class="gallery-section section-1">
            <div class="gallery-image-background">
                <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1440&h=900&fit=crop" alt="Background image">
            </div>
            <div class="gallery-image-portrait">
                <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=432&h=768&fit=crop" alt="Project image 1">
            </div>
        </div>
    </div>

    <!-- Two-Column Small Text Section -->
    <div class="two-column-text-section">
        <div class="two-column-text-container">
            <div class="two-column-text-block">
                <p class="two-column-text-label">thoughts</p>
                <p class="two-column-text-paragraph reveal-paragraph">Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin. Blandit at a condimentum cursus in amet rutrum aliquet. Ac nec id et a. Nunc phasellus at faucibus mi et aenean. Sit eget proin massa.</p>
            </div>
            <div class="two-column-text-block">
                <p class="two-column-text-label">thoughts</p>
                <p class="two-column-text-paragraph reveal-paragraph">Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin. Blandit at a condimentum cursus in amet rutrum aliquet. Ac nec id et a. Nunc phasellus at faucibus mi et aenean. Sit eget proin massa.</p>
            </div>
        </div>
    </div>

    <!-- Gallery Continued -->
    <div class="gallery">
        <!-- Section 2: Three portrait images -->
        <div class="gallery-section section-2">
            <div class="gallery-image">
                <img src="https://images.unsplash.com/photo-1594534475808-b18fc33b045e?w=600&h=1067&fit=crop" alt="Project image 2">
            </div>
            <div class="gallery-image">
                <img src="https://images.unsplash.com/photo-1611930022073-b7a4ba5fcccd?w=600&h=1067&fit=crop" alt="Project image 3">
            </div>
            <div class="gallery-image">
                <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=600&h=1067&fit=crop" alt="Project image 4">
            </div>
        </div>

    </div>

    <!-- Single Text Section -->
    <div class="single-text-section">
        <div class="single-text-block">
            <p class="single-text-label">thoughts</p>
            <p class="single-text-paragraph reveal-paragraph">Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin. Blandit at a condimentum cursus in amet rutrum aliquet. Ac nec id et a. Nunc phasellus at faucibus mi et aenean. Sit eget proin massa.</p>
        </div>
    </div>

    <!-- Double Height Section -->
    <div class="double-height-section">
        <div class="background-image">
            <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1600&h=900&fit=crop" alt="Background image">
        </div>
        <div class="centered-landscape">
            <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=1200&h=675&fit=crop" alt="Centered landscape image">
        </div>
    </div>

    <!-- Bottom Carousel -->
    <div class="carousel-section">
        <div class="whats-next">what's next</div>
        <div class="carousel-hover-label" id="carouselHoverLabel">
            <div class="carousel-hover-subtitle">
                <span class="carousel-hover-title"></span>
            </div>
            <p class="carousel-hover-paragraph"></p>
        </div>
        <div class="carousel-wrapper">
            <div class="carousel-container" id="carouselContainer">
            <!-- Multiple sets for infinite loop -->
            <div class="carousel-item" data-index="0" data-title="urban jürgensen website refresh" data-year="2025" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1509048191080-d2984bad6ae5?w=243&h=243&fit=crop" alt="Project 1">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="1" data-title="f.p.journe collection" data-year="2024" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=243&h=243&fit=crop" alt="Project 2">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="2" data-title="zodiac heritage" data-year="2024" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1594534475808-b18fc33b045e?w=243&h=243&fit=crop" alt="Project 3">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="3" data-title="parmigiani fleurier" data-year="2024" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1611930022073-b7a4ba5fcccd?w=243&h=243&fit=crop" alt="Project 4">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="4" data-title="hine cognac" data-year="2023" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1560343090-f0409e92791a?w=243&h=243&fit=crop" alt="Project 5">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="5" data-title="le grand tour" data-year="2023" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1509048191080-d2984bad6ae5?w=243&h=243&fit=crop" alt="Project 6">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <!-- Duplicate set 1 -->
            <div class="carousel-item" data-index="0" data-title="urban jürgensen website refresh" data-year="2025" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1509048191080-d2984bad6ae5?w=243&h=243&fit=crop" alt="Project 1">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="1" data-title="f.p.journe collection" data-year="2024" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=243&h=243&fit=crop" alt="Project 2">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="2" data-title="zodiac heritage" data-year="2024" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1594534475808-b18fc33b045e?w=243&h=243&fit=crop" alt="Project 3">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="3" data-title="parmigiani fleurier" data-year="2024" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1611930022073-b7a4ba5fcccd?w=243&h=243&fit=crop" alt="Project 4">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="4" data-title="hine cognac" data-year="2023" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1560343090-f0409e92791a?w=243&h=243&fit=crop" alt="Project 5">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="5" data-title="le grand tour" data-year="2023" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1509048191080-d2984bad6ae5?w=243&h=243&fit=crop" alt="Project 6">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <!-- Duplicate set 2 -->
            <div class="carousel-item" data-index="0" data-title="urban jürgensen website refresh" data-year="2025" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1509048191080-d2984bad6ae5?w=243&h=243&fit=crop" alt="Project 1">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="1" data-title="f.p.journe collection" data-year="2024" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=243&h=243&fit=crop" alt="Project 2">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="2" data-title="zodiac heritage" data-year="2024" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1594534475808-b18fc33b045e?w=243&h=243&fit=crop" alt="Project 3">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="3" data-title="parmigiani fleurier" data-year="2024" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1611930022073-b7a4ba5fcccd?w=243&h=243&fit=crop" alt="Project 4">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="4" data-title="hine cognac" data-year="2023" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1560343090-f0409e92791a?w=243&h=243&fit=crop" alt="Project 5">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            <div class="carousel-item" data-index="5" data-title="le grand tour" data-year="2023" data-description="Lorem ipsum dolor sit amet consectetur. Felis nisl placerat amet dictum cras sed ornare. Amet mauris magna nec ullamcorper sit. Tellus sed pellentesque amet sollicitudin.">
                <div class="carousel-item-inner">
                    <img src="https://images.unsplash.com/photo-1509048191080-d2984bad6ae5?w=243&h=243&fit=crop" alt="Project 6">
                    <video loop muted playsinline>
                        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                    </video>
                </div>
            </div>
            </div>
        </div>
    </div>

    <!-- Footer Contact Section -->
    <div class="footer-contact">
        <div class="footer-contact-text">
            <div class="footer-say">say</div>
            <div class="footer-hi">hi</div>
        </div>

        <div class="footer-label">where to find me:</div>

        <div class="footer-links">
            <a href="mailto:hello@lorrydias.com">
                <span class="rotate-text-inner">
                    <span>hello@lorrydias.com</span>
                    <span>hello@lorrydias.com</span>
                </span>
            </a>
            <a href="https://linkedin.com/in/diaslorry" target="_blank">
                <span class="rotate-text-inner">
                    <span>linkedin @diaslorry</span>
                    <span>linkedin @diaslorry</span>
                </span>
            </a>
            <a href="https://instagram.com/lorrydias" target="_blank">
                <span class="rotate-text-inner">
                    <span>instagram @lorrydias</span>
                    <span>instagram @lorrydias</span>
                </span>
            </a>
        </div>

        <div class="footer-image">
            <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1440&h=1440&fit=crop" alt="Contact background">
        </div>
    </div>

    <script>
        // Page title reveal animation
        function wrapLetters(element) {
            const text = element.textContent;
            element.textContent = '';

            text.split('').forEach((char, index) => {
                const letterWrap = document.createElement('span');
                letterWrap.className = 'letter-wrap';

                const letter = document.createElement('span');
                letter.className = 'letter';
                letter.textContent = char === ' ' ? '\u00A0' : char; // Use non-breaking space
                letter.style.animationDelay = `${index * 0.03}s`;

                letterWrap.appendChild(letter);
                element.appendChild(letterWrap);
            });
        }

        // Initialize title animations
        const titleLine1 = document.getElementById('titleLine1');
        const titleLine2 = document.getElementById('titleLine2');

        if (titleLine1) wrapLetters(titleLine1);
        if (titleLine2) wrapLetters(titleLine2);

        // Paragraph reveal animation - subtle word by word
        function wrapWords(element) {
            const text = element.textContent;
            element.textContent = '';

            const words = text.split(' ');
            words.forEach((word, index) => {
                const wordSpan = document.createElement('span');
                wordSpan.className = 'word';
                wordSpan.textContent = word;
                wordSpan.style.animationDelay = `${index * 0.02}s`;

                element.appendChild(wordSpan);

                // Add space after each word except the last one
                if (index < words.length - 1) {
                    element.appendChild(document.createTextNode(' '));
                }
            });

            element.classList.add('animate');
        }

        // Initialize paragraph animations with Intersection Observer
        const revealParagraphs = document.querySelectorAll('.reveal-paragraph');

        const paragraphObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && !entry.target.classList.contains('animate')) {
                    wrapWords(entry.target);
                }
            });
        }, {
            threshold: 0.2,
            rootMargin: '0px'
        });

        revealParagraphs.forEach(paragraph => {
            paragraphObserver.observe(paragraph);
        });

        // Three images fade-in animation
        const threeImages = document.querySelectorAll('.section-2 .gallery-image');

        const threeImagesObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // Trigger animations in order with delays
                    threeImages.forEach((img, index) => {
                        setTimeout(() => {
                            img.classList.add('reveal');
                        }, index * 200); // 200ms delay between each image
                    });
                    // Unobserve after triggering
                    threeImagesObserver.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.2,
            rootMargin: '0px'
        });

        // Observe the section-2 container
        const section2 = document.querySelector('.section-2');
        if (section2) {
            threeImagesObserver.observe(section2);
        }

        // Parallax effect - includes three images section and double height section
        const imageContainers = document.querySelectorAll('.gallery-image-large, .gallery-image-full');
        const threeImageBoxes = document.querySelectorAll('.section-2 .gallery-image');
        const doubleHeightImage = document.querySelector('.double-height-section .centered-landscape');
        const portraitImage = document.querySelector('.section-1 .gallery-image-portrait img');

        function updateParallax() {
            const scrollY = window.scrollY;
            const windowHeight = window.innerHeight;

            // Parallax for regular image containers (image inside moves)
            imageContainers.forEach(container => {
                const rect = container.getBoundingClientRect();
                const containerTop = rect.top + scrollY;
                const containerHeight = rect.height;

                // Calculate when container is in viewport
                const inViewport = rect.top < windowHeight && rect.bottom > 0;

                if (inViewport) {
                    // Calculate parallax offset - image moves slower than scroll
                    const scrollProgress = (scrollY - containerTop + windowHeight) / (windowHeight + containerHeight);
                    const parallaxOffset = scrollProgress * 150 - 75; // Range from -75px to 75px

                    const img = container.querySelector('img');
                    if (img) {
                        img.style.transform = `translateY(${parallaxOffset}px) scale(1.1)`;
                    }
                }
            });

            // Parallax for three image boxes (entire box moves with different speeds)
            threeImageBoxes.forEach((box, index) => {
                const rect = box.getBoundingClientRect();
                const containerTop = rect.top + scrollY;
                const containerHeight = rect.height;

                // Calculate when container is in viewport
                const inViewport = rect.top < windowHeight && rect.bottom > 0;

                if (inViewport) {
                    // Different parallax speeds for each box - increased for more dramatic effect
                    const boxSpeeds = [120, 180, 150]; // Left: slower, Middle: faster, Right: medium
                    const boxSpeed = boxSpeeds[index] || 150;

                    // Calculate parallax offset for box
                    const scrollProgress = (scrollY - containerTop + windowHeight) / (windowHeight + containerHeight);
                    const boxParallaxOffset = scrollProgress * boxSpeed - (boxSpeed / 2);

                    box.style.transform = `translateY(${boxParallaxOffset}px)`;

                    // Different parallax speeds for images inside boxes (opposite direction for depth) - increased
                    const imgSpeeds = [50, 70, 60]; // More movement inside
                    const imgSpeed = imgSpeeds[index] || 60;
                    const imgParallaxOffset = scrollProgress * imgSpeed - (imgSpeed / 2);

                    const img = box.querySelector('img');
                    if (img) {
                        img.style.transform = `translateY(${-imgParallaxOffset}px)`; // Negative for opposite direction
                    }
                }
            });

            // Parallax for double height section centered image
            if (doubleHeightImage) {
                const rect = doubleHeightImage.getBoundingClientRect();
                const containerTop = rect.top + scrollY;
                const containerHeight = rect.height;

                // Calculate when container is in viewport
                const inViewport = rect.top < windowHeight && rect.bottom > 0;

                if (inViewport) {
                    // Calculate parallax offset
                    const scrollProgress = (scrollY - containerTop + windowHeight) / (windowHeight + containerHeight);
                    const parallaxOffset = scrollProgress * 100 - 50; // Range from -50px to 50px

                    doubleHeightImage.style.transform = `translate(-50%, calc(-50% + ${parallaxOffset}px))`;
                }
            }

            // Parallax for section-1 centered portrait image
            if (portraitImage) {
                const parent = portraitImage.closest('.section-1');
                const rect = parent.getBoundingClientRect();
                const containerTop = rect.top + scrollY;
                const containerHeight = rect.height;

                // Calculate when container is in viewport
                const inViewport = rect.top < windowHeight && rect.bottom > 0;

                if (inViewport) {
                    // Calculate parallax offset
                    const scrollProgress = (scrollY - containerTop + windowHeight) / (windowHeight + containerHeight);
                    const parallaxOffset = scrollProgress * 100 - 50; // Range from -50px to 50px

                    portraitImage.style.transform = `translateY(${parallaxOffset}px)`;
                }
            }
        }

        function onScroll() {
            updateParallax();
        }

        window.addEventListener('scroll', onScroll, { passive: true });
        updateParallax(); // Initial call

        // Carousel mouse-direction following
        const carouselContainer = document.getElementById('carouselContainer');
        const carouselWrapper = document.querySelector('.carousel-wrapper');

        // Calculate initial offset to start at middle set
        const firstItem = carouselContainer.querySelector('.carousel-item');
        const itemWidth = firstItem ? firstItem.offsetWidth + 8 : 0;
        const totalItems = 6;
        const setWidth = itemWidth * totalItems;

        let carouselOffset = -setWidth; // Start at middle set (second set of 6 items)
        let mouseX = 0;
        let lastMouseX = 0;
        let velocity = 0;
        let animationId = null;

        // Set initial position
        carouselContainer.style.transform = `translateX(${carouselOffset}px)`;

        // Mouse move handler
        function handleMouseMove(e) {
            mouseX = e.clientX;
        }

        // Animation loop
        function animateCarousel() {
            // Calculate velocity based on mouse movement
            const mouseDelta = mouseX - lastMouseX;
            velocity += mouseDelta * 0.1; // Reduced sensitivity from 0.5 to 0.1
            velocity *= 0.92; // Increased damping from 0.95 to 0.92 for slower deceleration

            lastMouseX = mouseX;

            // Update carousel position
            carouselOffset -= velocity;

            // Infinite loop - seamless wrapping without visible reset
            // We start at -setWidth (middle set), so we can go from -2*setWidth to 0
            if (carouselOffset <= -2 * setWidth) {
                carouselOffset += setWidth;
            } else if (carouselOffset >= 0) {
                carouselOffset -= setWidth;
            }

            carouselContainer.style.transform = `translateX(${carouselOffset}px)`;

            animationId = requestAnimationFrame(animateCarousel);
        }

        // Start animation when mouse enters carousel area
        carouselWrapper.addEventListener('mouseenter', () => {
            if (!animationId) {
                lastMouseX = mouseX;
                animationId = requestAnimationFrame(animateCarousel);
            }
        });

        // Continue tracking mouse movement
        document.addEventListener('mousemove', handleMouseMove);

        // Video hover functionality
        const carouselItems = document.querySelectorAll('.carousel-item');

        carouselItems.forEach(item => {
            const video = item.querySelector('video');

            if (video) {
                item.addEventListener('mouseenter', () => {
                    video.play().catch(err => {
                        console.log('Video play failed:', err);
                    });
                });

                item.addEventListener('mouseleave', () => {
                    video.pause();
                    video.currentTime = 0;
                });
            }
        });

        // Carousel item hover label functionality
        const hoverLabel = document.getElementById('carouselHoverLabel');
        const hoverTitle = hoverLabel.querySelector('.carousel-hover-title');
        const hoverParagraph = hoverLabel.querySelector('.carousel-hover-paragraph');
        const allCarouselItems = document.querySelectorAll('.carousel-item');

        allCarouselItems.forEach(item => {
            item.addEventListener('mouseenter', () => {
                const title = item.getAttribute('data-title');
                const description = item.getAttribute('data-description');

                if (title && description) {
                    // Update label content
                    hoverTitle.textContent = title;
                    hoverParagraph.textContent = description;
                    hoverLabel.classList.add('visible');
                }
            });

            item.addEventListener('mouseleave', () => {
                // Hide hover label
                hoverLabel.classList.remove('visible');
            });
        });

        // Red trail effect
        const fullPageCanvas = document.getElementById('fullPageTrailCanvas');

        if (fullPageCanvas && window.innerWidth >= 768) {
            fullPageCanvas.style.display = 'block';
            const ctx = fullPageCanvas.getContext('2d');
            const trailPoints = [];
            const maxTrailLength = 40;
            let isDrawing = false;
            let mouseX = 0;
            let mouseY = 0;
            let velocity = 0;

            // Set canvas size to viewport (since it's fixed position)
            function resizeCanvas() {
                fullPageCanvas.width = window.innerWidth;
                fullPageCanvas.height = window.innerHeight;
            }
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);

            // Mouse events on document
            document.addEventListener('mouseenter', () => {
                isDrawing = true;
            });

            document.addEventListener('mouseleave', () => {
                isDrawing = false;
            });

            let lastMouseX = 0;
            let lastMouseY = 0;

            let currentColor = '#cc2a2a'; // Default red color

            document.addEventListener('mousemove', (e) => {
                // Check if mouse is over footer
                const target = e.target;
                const footerSection = target.closest('.footer-contact');

                // Change color based on section
                if (footerSection) {
                    currentColor = '#F5F6F5'; // Light beige for footer
                } else {
                    currentColor = '#cc2a2a'; // Red for rest of page
                }

                // Calculate velocity for dynamic brush width
                const dx = e.clientX - lastMouseX;
                const dy = e.clientY - lastMouseY;
                velocity = Math.sqrt(dx * dx + dy * dy);

                lastMouseX = e.clientX;
                lastMouseY = e.clientY;

                // For fixed position canvas, use clientX/Y directly (no scroll offset needed)
                mouseX = e.clientX;
                mouseY = e.clientY;

                if (!isDrawing) {
                    isDrawing = true;
                }
            });

            // Smooth interpolation function
            function lerp(start, end, factor) {
                return start + (end - start) * factor;
            }

            // Animation loop with brush effect
            function animate() {
                ctx.clearRect(0, 0, fullPageCanvas.width, fullPageCanvas.height);

                if (isDrawing) {
                    if (trailPoints.length === 0) {
                        trailPoints.push({ x: mouseX, y: mouseY, velocity: velocity });
                    } else {
                        trailPoints.push({ x: mouseX, y: mouseY, velocity: velocity });

                        for (let i = 0; i < trailPoints.length - 1; i++) {
                            const point = trailPoints[i];
                            const nextPoint = trailPoints[i + 1];
                            point.x = lerp(point.x, nextPoint.x, 0.3);
                            point.y = lerp(point.y, nextPoint.y, 0.3);
                        }

                        if (trailPoints.length > maxTrailLength) {
                            trailPoints.shift();
                        }
                    }

                    // Draw brush strokes with varying thickness
                    if (trailPoints.length > 2) {
                        for (let i = 0; i < trailPoints.length - 1; i++) {
                            const point = trailPoints[i];
                            const nextPoint = trailPoints[i + 1];

                            // Calculate progress for fade effect
                            const progress = i / trailPoints.length;

                            // Dynamic brush width based on velocity and position
                            const baseWidth = 8;
                            const velocityFactor = Math.max(0.4, 1 - point.velocity / 30);
                            const brushWidth = baseWidth * velocityFactor * (0.5 + progress * 0.5);

                            // Add organic variation
                            const noise = Math.sin(i * 0.5) * 0.4 + 1;
                            const finalWidth = brushWidth * noise;

                            // Draw segment with gradient opacity for brush feel
                            ctx.beginPath();
                            ctx.moveTo(point.x, point.y);
                            ctx.lineTo(nextPoint.x, nextPoint.y);

                            ctx.strokeStyle = currentColor;
                            ctx.lineWidth = finalWidth;
                            ctx.lineCap = 'round';
                            ctx.lineJoin = 'round';
                            ctx.globalAlpha = 0.85 * progress;

                            ctx.stroke();
                        }

                        ctx.globalAlpha = 1;
                    }
                } else {
                    if (trailPoints.length > 0) {
                        trailPoints.shift();
                    }
                }

                requestAnimationFrame(animate);
            }
            animate();
        }
    </script>
</body>
</html>
